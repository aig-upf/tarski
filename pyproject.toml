# NOTE: Use single-quoted strings in TOML for regular expressions.

[build-system]
# Minimum requirements for the build system to execute.
requires = ["setuptools", "wheel", "Cython"]  # PEP 508 specifications.

[tool.ruff]
target-version = "py310"

line-length = 120

# In addition to the standard set of exclusions, omit from both linting and formatting all the following
extend-exclude = [
    "utils",
    "tests/ndl/test_temporal.py", # experimental
    # Files auto-generated by ANTLR
    "src/tarski/io/_fstrips/parser",
    "src/tarski/io/pddl", # experimental
]

[tool.ruff.lint]
# See https://docs.astral.sh/ruff/linter/
select = [
    "E", # pycodestyle
    "F", # Pyflakes
    "UP", # pyupgrade
    "B", # flake8-bugbear
    "S", # flake8-bandit
    "SIM", # flake8-simplify
    "I", # isort
]

ignore = [
    "B007", # B007: unused-loop-control-variable
    "B028", # B028: No explicit stacklevel argument found
    "F403", # F403: undefined-local-with-import-star. We're using a few star imports these days.
    "F405", # F405: undefined-local-with-import-star-usage. We're using a few star imports these days.
    "E741", # E741: ambiguous-variable-name
    "S101", # S101: Use of assert detected. We like asserts for dev-checks :-)
    "S311", # S311: Standard pseudo-random generators are not suitable for cryptographic purposes
    "SIM118", # SIM118: in-dict-keys
]

[tool.pytest.ini_options]
# Logs will be shown for failed test:
log_format = "%(asctime)s %(levelname)s %(message)s"
log_date_format = "%Y-%m-%d %H:%M:%S"
addopts = "-rsxX -q"

markers = [
    "pddl",
    "sas",
]
